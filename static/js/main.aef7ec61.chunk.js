(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{184:function(e,a,t){},325:function(e,a,t){e.exports=t(576)},330:function(e,a,t){},576:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(35),o=t.n(r),c=(t(330),t(184),t(45)),s=t(28),i=function(e,a){switch(a.type){case"CALCULATE":return Object(s.a)({},e,{form:a.payload.newForm,expenses:a.payload.expenses,financials:a.payload.financials,show:a.payload.show});case"CHANGEADDRESS":return Object(s.a)({},e,{address:a.payload});case"CHANGEEXPENSE":return Object(s.a)({},e,{expenses:a.payload.newExpenses,financials:a.payload.newFinancials,selected:a.payload.selected,show:a.payload.show});default:return e}},u=(t(331),{address:"",form:{purchaseprice:1e5,rentalincome:1200,downpayment:2e4,interestrate:4,loanterm:30,mortgage:8e4,percentage:20,toggle:"purchaseprice",input:{expense:"",amount:""},show:{expense:""}},expenses:{mortage:381,taxes:180,insurance:100,capex:60,vacancy:36,repairs:48,propertymanagement:120},selected:{},financials:{},show:{mortage:"none",taxes:"none",insurance:"none",capex:"none",vacancy:"none",repairs:"none",propertymanagement:"none"}}),m=Object(n.createContext)(u),p=function(e){var a=Object(n.useReducer)(i,u),t=Object(c.a)(a,2),r=t[0],o=t[1];return l.a.createElement(m.Provider,{value:{changeExpense:function(e){var a,t,n=0,l=0,c=0;e.downpayment,e.purchaseprice&&(n=e.purchaseprice),e.rentalincome&&(l=e.rentalincome),c=e.downpayment&&e.downpayment<e.purchaseprice?n-e.downpayment:n,a=e.interestrate/100/12,t=12*e.loanterm,Math.pow(1+a,t),Math.pow(1+a,t),console.log(e.interestrate),isNaN(e.interestrate)||isNaN(e.loanterm),0!==e.loanterm&&e.interestrate;var s=r.expenses,i=Object.keys(s),u=Object.values(s);i.forEach((function(a,t){a==e.input.expense&&(u[t]=e.input.amount),s[a]=u[t]}));var m=r.show,p=r.selected;p[e.input.expense]=e.input.amount,m[e.input.expense]="inline",console.log(p);var d=Object.values(s).reduce((function(e,a){return e+a}),0),h=12*(l-d)/(n-c)*100;(isNaN(e.interestrate)||isNaN(e.loanterm))&&(h=12*(l-d)/n*100),0!==e.loanterm&&0!==e.interestrate||(h=12*(l-d)/n*100);var g={expensetotal:d,mcashflow:l-d,ycashflow:12*(l-d),dproi:h,hvroi:12*(l-d)/n*100};console.log(s),o({type:"CHANGEEXPENSE",payload:{newExpenses:s,newFinancials:g,selected:p,show:m}})},changeAddress:function(e){o({type:"CHANGEADDRESS",payload:{address:e}})},calculate:function(e){console.log(e);var a=0,t=0,n=0,l=0,c=0,s=0,i=0,u=e.downpayment;e.purchaseprice&&(a=e.purchaseprice),e.rentalincome&&(t=e.rentalincome),"percentage"===e.toggle&&(n=a-(u=a*e.percentage/100),i=e.percentage),"purchaseprice"===e.toggle&&(n=a-(u=a*(i=e.percentage)/100)),"mortgage"===e.toggle&&(i=(u=a-(n=e.mortgage))/a*100),"downpayment"===e.toggle&&(n=a-e.downpayment,i=(u=e.downpayment)/a*100),l=e.interestrate/100/12,c=12*e.loanterm,s=n*(l*Math.pow(1+l,c)/(Math.pow(1+l,c)-1)),console.log(e.interestrate),(isNaN(e.interestrate)||isNaN(e.loanterm))&&(s=0,u=0,l=0,c=0,n=0),0!==e.loanterm&&0!==e.interestrate||(s=0,u=0,l=0,c=0,n=0);var m={mortage:s,taxes:.15*t,insurance:100,capex:.05*t,vacancy:.03*t,repairs:.04*t,propertymanagement:.1*t};console.log(m);var p=r.selected;""!=e.show.expense&&delete p[e.show.expense];var d=r.show;Object.keys(r.show).forEach((function(a){a==e.show.expense&&(d[a]="none")}));var h=Object.keys(p),g=Object.values(p);h.forEach((function(e,a){e in m&&(m[e]=g[a])})),console.log(m);var E=Object.values(m).reduce((function(e,a){return e+a}),0),f=12*(t-E)/(a-n)*100;(isNaN(e.interestrate)||isNaN(e.loanterm))&&(f=12*(t-E)/a*100),0!==e.loanterm&&0!==e.interestrate||(f=12*(t-E)/a*100);var y={expensetotal:E,mcashflow:t-E,ycashflow:12*(t-E),dproi:f,hvroi:12*(t-E)/a*100},v={purchaseprice:a,rentalincome:t,downpayment:u,interestrate:100*l*12,loanterm:c/12,mortgage:n,percentage:i,toggle:e.toggle,show:{expense:""}};console.log(v),o({type:"CALCULATE",payload:{newForm:v,expenses:m,financials:y,show:d}})},load:function(){},save:function(){},state:r}},e.children)},d=t(606),h=t(598),g=t(578);function E(){var e=Object(n.useContext)(m),a=e.changeAddress,t=e.load,r=e.save,o=Object(n.useState)(),s=Object(c.a)(o,2),i=s[0],u=s[1];return l.a.createElement("div",null,l.a.createElement(d.a,{pointing:!0,secondary:!0},l.a.createElement(d.a.Item,{name:"home"},l.a.createElement(h.a,{size:"large",placeholder:"Address",onChange:function(e){a(e.target.value)}})),l.a.createElement(d.a.Menu,{position:"right"},l.a.createElement(d.a.Item,null,l.a.createElement(h.a,{label:"ID",icon:"search",placeholder:"My Property's ID",onChange:function(e){u(e.target.value)}})),l.a.createElement(d.a.Item,null,l.a.createElement(g.a,{color:"blue",submit:function(e){e.preventDefault(),i&&t(i)}},"Load")),l.a.createElement(d.a.Item,null,l.a.createElement(g.a,{color:"red",submit:function(e){e.preventDefault(),i&&r(i)}},"Save")))))}var f=t(608),y=t(601),v=t(602),b=t(599),w=Object(b.a)((function(e){return{root:{width:300},margin:{height:e.spacing(3)}}})),x=[{value:0,label:"$0"},{value:500,label:"$500K"}],O=[{value:0,label:"$0"},{value:5e3,label:"$5000"}];function j(e){return"$".concat(e,"K")}var I=function(){var e=Object(n.useContext)(m),a=e.calculate,t=e.state,r=Object(n.useState)(t.form),o=Object(c.a)(r,2),i=o[0],u=o[1];Object(n.useEffect)((function(){a(i)}),[i]);var p=w();return l.a.createElement("div",{className:"main"},l.a.createElement(f.a,{as:"h2"},"Investment Information:"),l.a.createElement(y.a,{onSubmit:function(e){e.preventDefault(),console.log(i),i&&a(i)}},l.a.createElement(y.a.Group,null,l.a.createElement("div",{className:p.root},l.a.createElement("label",null,"Home Value: $",i.purchaseprice/1e3,"K"),l.a.createElement(v.a,{defaultValue:100,getAriaValueText:j,"aria-labelledby":"discrete-slider-always",step:1,marks:x,min:0,max:500,valueLabelDisplay:"off",onChange:function(e,a){u(Object(s.a)({},i,{purchaseprice:parseInt(1e3*a),toggle:"purchaseprice"})),console.log(i)}}))),l.a.createElement(y.a.Group,null,l.a.createElement("div",{className:p.root},l.a.createElement("label",null,"Rental Income: $",i.rentalincome),l.a.createElement(v.a,{defaultValue:1200,getAriaValueText:j,"aria-labelledby":"discrete-slider-always",step:10,marks:O,min:0,max:5e3,valueLabelDisplay:"off",onChange:function(e,a){u(Object(s.a)({},i,{rentalincome:parseInt(a)})),console.log(i)}}))),l.a.createElement(f.a,{as:"h3"},"Loan Information:"),l.a.createElement(y.a.Group,null,l.a.createElement("label",null,"Loan Amount: $"),l.a.createElement(y.a.Input,{type:"number",placeholder:"$0",value:t.form.mortgage,onChange:function(e){u(Object(s.a)({},i,{mortgage:parseInt(e.target.value),toggle:"mortgage"})),console.log(i)}})),l.a.createElement(y.a.Group,{inline:!0},l.a.createElement("label",null,"Down Payment: $"),l.a.createElement(y.a.Input,{lable:"$",type:"number",placeholder:"$0",value:t.form.downpayment,onChange:function(e){u(Object(s.a)({},i,{downpayment:parseInt(e.target.value),toggle:"downpayment"}))}}),l.a.createElement(y.a.Input,{label:"Percentage(%):",type:"number",style:{width:"60px"},placeholder:"0%",value:t.form.percentage,onChange:function(e){u(Object(s.a)({},i,{percentage:parseInt(e.target.value),toggle:"percentage"}))}})),l.a.createElement(y.a.Group,{inline:!0},l.a.createElement("label",null,"Interest Rate:"),l.a.createElement(y.a.Input,{type:"number",placeholder:"3%",value:t.form.interestrate,onChange:function(e){u(Object(s.a)({},i,{interestrate:parseInt(e.target.value)})),console.log(i)}}),l.a.createElement(y.a.Select,{fluid:!0,label:"Loan Term:",options:[{key:"10",text:"10 years",value:10},{key:"15",text:"15 years",value:15},{key:"30",text:"30 years",value:30},{key:"0",text:"No loan",value:0}],value:t.form.loanterm,placeholder:"years",onChange:function(e,a){var t=a.value;u(Object(s.a)({},i,{loanterm:t})),console.log(i)}})),l.a.createElement(g.a,{primary:!0,fluid:!0,type:"submit"},"Calculate Expenses and Profitability")))},N=t(604),C={borderRadius:0,opacity:1,padding:"2em"},A=function(e){return l.a.createElement(N.a,{trigger:l.a.createElement(g.a,{icon:"info"}),content:e,style:C,inverted:!0})},$=t(605),R=t(60),k=t(610),S=t(284),D=t(99),M=["blue","green","violet","orange","teal","red","purple"],L=function(e){var a=e.data;return l.a.createElement(D.d,{width:"100%",height:250},l.a.createElement(D.c,{height:300},l.a.createElement(D.b,{data:a,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",labelLine:!1,label:function(e){var a=e.cx,t=e.cy,n=e.midAngle,r=e.innerRadius,o=e.outerRadius;e.value,e.index;console.log("handling label?");var c=Math.PI/180,s=25+r+(o-r),i=a+s*Math.cos(-n*c),u=t+s*Math.sin(-n*c);return l.a.createElement("text",{x:i,y:u,fill:"#8884d8",textAnchor:"middle",dominantBaseline:"central"})}},a.map((function(e,a){return l.a.createElement(D.a,{key:"cell-".concat(a),fill:M[a%M.length]})})))))};function G(){var e=Object(n.useContext)(m),a=e.state,t=e.changeExpense,r=e.calculate,o=Object(n.useState)(a.form),i=Object(c.a)(o,2),u=i[0],p=i[1],d=Object(n.useState)(a.form),E=Object(c.a)(d,2),y=E[0],v=E[1];Object(n.useEffect)((function(){console.log(u),t(u)}),[u]),Object(n.useEffect)((function(){r(y)}),[y]);var b=Object.entries(a.expenses),w=["blue","green","violet","orange","teal","red","purple"],x=Object.values(a.show),O=b.map((function(e,t){return l.a.createElement($.a.Row,null,l.a.createElement($.a.Cell,null,l.a.createElement(g.a,{size:"tiny",color:w[t]}),"".concat(e[0],": $"),l.a.createElement(h.a,{style:{width:"60px"},value:parseInt(e[1].toFixed(2)),onChange:function(t){var n=parseInt(t.target.value);isNaN(parseInt(t.target.value))&&(n=0),p(Object(s.a)({},a.form,{input:{expense:e[0],amount:n}}))}}),l.a.createElement(g.a,{size:"tiny",style:{display:x[t]},icon:!0,onClick:function(){return function(e){v(Object(s.a)({},a.form,{show:{expense:e}}))}(e[0])}},l.a.createElement(R.a,{name:"delete"}))))})),j=b.map((function(e){return{name:e[0],value:parseInt(e[1])}}));return l.a.createElement("div",{className:"main"},l.a.createElement(f.a,{as:"h2"},"Monthly Expenses:"),l.a.createElement(k.a,{columns:2},l.a.createElement(k.a.Row,null,l.a.createElement(S.a,null,l.a.createElement($.a,null,l.a.createElement($.a.Body,null,O),l.a.createElement($.a.Footer,null,l.a.createElement($.a.Row,null,l.a.createElement($.a.HeaderCell,null,"Total:$",parseInt(a.financials.expensetotal)))))),l.a.createElement(S.a,null,l.a.createElement("div",{className:"pie"},l.a.createElement(L,{data:j}))))),l.a.createElement(f.a,{as:"h2"},"1st Year Returns:"),l.a.createElement(k.a,{columns:2,divided:!0},l.a.createElement(k.a.Row,null,l.a.createElement(S.a,null,l.a.createElement(f.a,{as:"h4"},"Monthly Cash Flow: $",parseInt(a.financials.mcashflow)),l.a.createElement(f.a,{as:"h4"},"ROI(Down Payment): ",parseInt(a.financials.dproi),"%",l.a.createElement(A,{content:"Yearly return on the downpayment from cashflow only. (yearly cashflow)/(down payment)"}))),l.a.createElement(S.a,null,l.a.createElement(f.a,{as:"h4"},"Yearly Cash Flow: $",parseInt(a.financials.ycashflow)),l.a.createElement(f.a,{as:"h4"},"ROI(Home Value): $",parseInt(a.financials.hvroi),"%",l.a.createElement(A,{content:"Yearly return on the home value from cashflow only. (yearly cashflow)/(home value)"}))))))}var P=t(607);function F(){return l.a.createElement(P.a,null,l.a.createElement(E,null),l.a.createElement(k.a,{columns:2,divided:!0},l.a.createElement(k.a.Row,null,l.a.createElement(S.a,null,l.a.createElement(I,null)),l.a.createElement(S.a,null,l.a.createElement(G,null)))))}function H(){return l.a.createElement(p,null,l.a.createElement(F,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(575);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[325,1,2]]]);
//# sourceMappingURL=main.aef7ec61.chunk.js.map